(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7095],{2939:(e,r,s)=>{"use strict";s.r(r),s.d(r,{default:()=>n});var t=s(5155),i=s(2115),a=s(63),u=s(5419);function n(){let e=(0,a.useRouter)(),{user:r,isLoaded:s}=(0,u.Jd)();return(0,i.useEffect)(()=>{!async function(){if(s){if(!(null==r?void 0:r.id))return e.push("/");try{await fetch("/api/users/ensure-role");let r=await fetch("/api/users/me");if(!r.ok)return void e.push("/");let s=(await r.json()).role;"DRIVER"===s?e.push("/driver"):"RIDER"===s?e.push("/rider"):"DISPATCHER"===s?e.push("/dispatcher"):"ADMIN"===s?e.push("/admin"):e.push("/")}catch(r){console.error("Error in auth callback:",r),e.push("/")}}}()},[r,s,e]),(0,t.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#00796B] mx-auto mb-4"}),(0,t.jsx)("p",{className:"text-neutral-600",children:"Redirecting to your dashboard..."})]})})}},3193:(e,r,s)=>{Promise.resolve().then(s.bind(s,2939))}},e=>{e.O(0,[1162,8441,1255,7358],()=>e(e.s=3193)),_N_E=e.O()}]);