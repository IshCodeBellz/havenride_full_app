(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4960],{4396:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>d});var l=t(5155),a=t(2115);function d(){let[e,s]=(0,a.useState)(null),[t,d]=(0,a.useState)(!0);async function n(){try{let[e,t]=await Promise.all([fetch("/api/bookings"),fetch("/api/users/me")]),l=await e.json();await t.json();let a=l.filter(e=>"COMPLETED"===e.status),d=a.reduce((e,s)=>e+(s.finalFareAmount||0),0);s({totalBookings:l.length,completedBookings:a.length,requestedBookings:l.filter(e=>"REQUESTED"===e.status).length,revenue:d})}catch(e){console.error(e)}finally{d(!1)}}return((0,a.useEffect)(()=>{n()},[]),t)?(0,l.jsx)("div",{children:"Loading..."}):(0,l.jsxs)("div",{className:"max-w-6xl mx-auto p-6 space-y-6",children:[(0,l.jsxs)("div",{className:"mb-6",children:[(0,l.jsx)("h1",{className:"text-3xl font-bold mb-2",children:"Metrics & Analytics"}),(0,l.jsx)("p",{className:"text-gray-600",children:"System performance and statistics"})]}),(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[(0,l.jsxs)("div",{className:"border rounded-lg p-6",children:[(0,l.jsx)("h3",{className:"text-sm font-medium text-gray-600 mb-1",children:"Total Bookings"}),(0,l.jsx)("p",{className:"text-3xl font-bold",children:(null==e?void 0:e.totalBookings)||0})]}),(0,l.jsxs)("div",{className:"border rounded-lg p-6",children:[(0,l.jsx)("h3",{className:"text-sm font-medium text-gray-600 mb-1",children:"Completed"}),(0,l.jsx)("p",{className:"text-3xl font-bold",children:(null==e?void 0:e.completedBookings)||0})]}),(0,l.jsxs)("div",{className:"border rounded-lg p-6",children:[(0,l.jsx)("h3",{className:"text-sm font-medium text-gray-600 mb-1",children:"Pending"}),(0,l.jsx)("p",{className:"text-3xl font-bold",children:(null==e?void 0:e.requestedBookings)||0})]}),(0,l.jsxs)("div",{className:"border rounded-lg p-6",children:[(0,l.jsx)("h3",{className:"text-sm font-medium text-gray-600 mb-1",children:"Revenue"}),(0,l.jsxs)("p",{className:"text-3xl font-bold",children:["\xa3",(null==e?void 0:e.revenue.toFixed(2))||"0.00"]})]})]}),(0,l.jsxs)("div",{className:"border rounded-lg p-6",children:[(0,l.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Booking Status Breakdown"}),(0,l.jsx)("div",{className:"text-sm text-gray-500",children:"View detailed breakdown of booking statuses and performance metrics"})]})]})}},7626:(e,s,t)=>{Promise.resolve().then(t.bind(t,4396))}},e=>{e.O(0,[8441,1255,7358],()=>e(e.s=7626)),_N_E=e.O()}]);